name: docs

on:
  push:
    branches:
      - fix-action
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: technote-space/get-diff-action@v4
        id: diff
        with:
          PATTERNS: |
            docs/**/*
            docs-vuepress/**/*
            example/**/*

      - uses: actions/setup-node@v1
        with:
          node-version: '18'

      - name: 输出 GIT_DIFF 环境变量
        run: |
          echo "Output diff from action:"
          echo "${{ steps.diff.outputs.diff }}"
          echo 'jjjhjjzcc,  ${{ toJSON(steps.diff.outputs.diff) }}'

        # ss2
      - name: git diff
        run: |
          echo diffaaasdasd
          echo "$GIT_DIFF"

      - name : is has diff
        if: env.GIT_DIFF == ''
        run: echo "no diff"
      
      - name : is has diff
        if: env.GIT_DIFF
        run: echo "has diff"
